import React, { useEffect } from "react";
import { View } from "react-native";
import tw from "twrnc";
import AsyncStorage from '@react-native-async-storage/async-storage';
import { useNavigation } from "@react-navigation/native";
import Svg, { Path } from "react-native-svg";

const LandingScreen = () => {
  const navigation = useNavigation();

  useEffect(() => {
    const checkLoginStatus = async () => {
      const phoneNumber = await AsyncStorage.getItem('phoneNumber');

      setTimeout(() => {
        if (phoneNumber) {
          navigation.replace('Home');  // Navigate to Home if phone number exists
        } else {
          navigation.replace('PhoneInput');  // Otherwise, navigate to InputScreen
        }
      }, 1000);
    };

    checkLoginStatus();
  }, []);

  return (
    <View style={tw`flex-1 bg-[#DCEED3] justify-center items-center`}>
      {/* Decorative SVG */}
      <Svg width="352" height="280" viewBox="0 0 352 280" fill="none" xmlns="http://www.w3.org/2000/svg">
        <Path d="M352 96.3244V142.106V183.676C352 195.396 346 206.383 314 206.383C305.5 217.005 293 226.161 269 226.161C269 261.687 176 247.404 176 280C176 247.404 83 261.687 83 226.161C59 226.161 46.5 217.005 38 206.383C6.00001 206.383 1.00973e-05 195.396 1.14961e-05 183.676L0 142.106V96.3244C0 84.6043 6 73.6168 38 73.6168C46.5 62.9954 59 53.8391 83 53.8391C83 18.3126 176 32.5965 176 0C176 32.5965 269 18.3126 269 53.8391C293 53.8391 305.5 62.9954 314 73.6168C346 73.6168 352 84.6043 352 96.3244Z" fill="#52A924" />
        <Path opacity="0.6" d="M344 98.2653V141.836V181.398C344 192.552 338.29 203.009 307.835 203.009C299.746 213.117 287.849 221.831 265.009 221.831C265.009 255.642 176.5 242.048 176.5 273.07C176.5 242.048 87.9915 255.642 87.9915 221.831C65.1506 221.831 53.2543 213.117 45.1648 203.009C14.7102 203.009 9.00001 192.552 9.00001 181.398L9 141.836V98.2653C9 87.1112 14.7102 76.6543 45.1648 76.6543C53.2543 66.5459 65.1506 57.8318 87.9915 57.8318C87.9915 24.0211 176.5 37.6151 176.5 6.5929C176.5 37.6151 265.009 24.0211 265.009 57.8318C287.849 57.8318 299.746 66.5459 307.835 76.6543C338.29 76.6543 344 87.1112 344 98.2653Z" stroke="#DCEED3" stroke-width="0.951705" />
        <Path d="M339 99.9412V142.219V180.608C339 191.431 333.46 201.578 303.915 201.578C296.067 211.387 284.526 219.842 262.366 219.842C262.366 252.65 176.5 239.46 176.5 269.562C176.5 239.46 90.6335 252.65 90.6335 219.842C68.4744 219.842 56.9332 211.387 49.0852 201.578C19.5398 201.578 14 191.431 14 180.608L14 142.219V99.9412C14 89.1179 19.5398 78.9711 49.0852 78.9711C56.9332 69.1625 68.4744 60.7069 90.6335 60.7069C90.6335 27.8989 176.5 41.0897 176.5 10.9875C176.5 41.0897 262.366 27.8989 262.366 60.7069C284.526 60.7069 296.067 69.1625 303.915 78.9711C333.46 78.9711 339 89.1179 339 99.9412Z" stroke="#DCEED3" stroke-width="0.951705" />
        <Path d="M154.231 69.4252H143.776C146.115 70.6415 147.916 72.3021 149.179 74.4071C150.442 76.4654 151.074 78.6874 151.074 81.0731C151.074 82.57 150.746 84.0669 150.091 85.5639C149.436 87.0608 148.337 88.3238 146.793 89.3529C145.296 90.3821 143.332 90.8966 140.899 90.8966C139.496 90.8966 138.163 90.6861 136.9 90.2651C139.285 94.943 141.297 98.3812 142.934 100.58C144.618 102.732 146.022 104.065 147.144 104.579C148.267 105.094 149.577 105.351 151.074 105.351C150.419 106.801 149.483 107.901 148.267 108.649C147.097 109.351 145.834 109.702 144.478 109.702C143.028 109.702 141.648 109.164 140.338 108.088C139.075 106.965 137.929 105.655 136.9 104.158C135.871 102.615 134.631 100.556 133.181 97.9836C131.45 94.943 130 92.6976 128.83 91.2475C127.708 89.7506 126.538 89.0021 125.322 89.0021C125.883 88.0197 126.585 87.2479 127.427 86.6866C128.269 86.1252 129.158 85.8445 130.093 85.8445C130.982 85.8445 131.684 85.9381 132.198 86.1252C132.713 86.3123 133.274 86.593 133.882 86.9672C134.444 87.3415 135.005 87.6455 135.566 87.8794C136.175 88.0665 136.946 88.1601 137.882 88.1601C139.426 88.1601 140.806 87.6221 142.022 86.5462C143.285 85.4235 143.916 83.7863 143.916 81.6345C143.916 76.2081 142.022 72.1384 138.233 69.4252H124.62V66.8992H154.231V69.4252ZM173.209 69.4252H166.473V109H159.316V69.4252H152.579V66.8992H173.209V69.4252ZM213.382 79.5294H195.068C198.67 81.1199 201.384 83.2249 203.208 85.8445C205.079 88.4174 206.015 91.0136 206.015 93.6332C206.015 96.0657 205.313 98.2409 203.91 100.159C202.553 102.03 200.705 103.48 198.366 104.509C196.027 105.538 193.455 106.053 190.648 106.053C187.654 106.053 185.058 105.585 182.859 104.65C180.661 103.714 178.977 102.474 177.807 100.931C176.684 99.387 176.123 97.7263 176.123 95.9487C176.123 94.3115 176.801 92.9315 178.158 91.8088C179.561 90.6394 181.386 90.0546 183.631 90.0546C183.397 91.5515 183.28 92.9549 183.28 94.2647C183.28 97.2585 183.982 99.5507 185.385 101.141C186.789 102.732 188.543 103.527 190.648 103.527C193.034 103.527 194.998 102.755 196.542 101.211C198.086 99.6676 198.858 97.6328 198.858 95.1067C198.858 92.7678 198.249 90.4522 197.033 88.1601C195.864 85.8211 194.25 83.8097 192.192 82.1256C190.18 80.3948 187.981 79.2487 185.596 78.6874L187.21 77.4244H213.382V69.4252H171.492V66.8992H227.276V69.4252H220.539V109H213.382V79.5294ZM212.153 131.875C209.113 131.875 206.774 131.056 205.136 129.419C203.499 127.782 202.681 125.7 202.681 123.174C202.681 121.256 203.289 119.525 204.505 117.982C205.721 116.485 207.382 115.315 209.487 114.473C211.592 113.631 213.954 113.21 216.574 113.21C220.082 113.21 223.193 113.888 225.906 115.245C228.573 116.602 230.631 118.403 232.081 120.648C233.578 122.893 234.326 125.279 234.326 127.805C234.326 129.723 233.788 131.033 232.713 131.734C231.637 132.483 230.14 132.857 228.222 132.857C228.222 121.677 224.175 116.087 216.083 116.087C213.51 116.087 211.592 116.695 210.329 117.911C209.019 119.174 208.364 120.788 208.364 122.753C208.364 124.624 208.902 126.121 209.978 127.244C211.054 128.413 212.294 128.998 213.697 128.998C214.679 128.998 215.615 128.764 216.504 128.296C217.392 127.828 218.071 127.22 218.539 126.472L219.731 128.507C218.936 129.536 217.86 130.354 216.504 130.963C215.147 131.571 213.697 131.875 212.153 131.875ZM118.037 154.899V157.425H111.301V197H104.144V173.634H95.583C95.583 176.768 95.0217 179.739 93.899 182.545C92.7763 185.352 91.1156 187.621 88.917 189.352C86.7184 191.082 84.0521 191.948 80.9179 191.948C78.8596 191.948 76.9885 191.527 75.3044 190.685C73.6672 189.843 72.3808 188.72 71.4452 187.317C70.5096 185.867 70.0418 184.253 70.0418 182.475C70.0418 179.014 71.4218 176.324 74.1817 174.406C76.9885 172.488 80.9179 171.529 85.97 171.529H88.0049C87.4903 168.254 86.6249 165.401 85.4086 162.968C84.1924 160.536 82.8124 158.688 81.2687 157.425H67.1649V154.899H118.037ZM104.144 157.425H87.3733C89.7591 158.735 91.6302 160.653 92.9868 163.179C94.3434 165.658 95.162 168.442 95.4427 171.529H104.144V157.425ZM88.496 177.353C88.496 176.043 88.4259 174.803 88.2855 173.634H85.97C80.1226 173.634 77.199 176.511 77.199 182.265C77.199 187.317 78.7427 189.843 81.8301 189.843C83.9819 189.843 85.6191 188.673 86.7418 186.334C87.9113 183.949 88.496 180.955 88.496 177.353ZM136.994 157.425H130.258V197H123.101V157.425H116.365V154.899H136.994V157.425ZM164.818 157.425H154.363C156.702 158.641 158.503 160.302 159.766 162.407C161.029 164.465 161.661 166.687 161.661 169.073C161.661 170.57 161.333 172.067 160.678 173.564C160.023 175.061 158.924 176.324 157.38 177.353C155.883 178.382 153.919 178.897 151.486 178.897C150.083 178.897 148.75 178.686 147.487 178.265C149.872 182.943 151.884 186.381 153.521 188.58C155.205 190.732 156.608 192.065 157.731 192.579C158.854 193.094 160.164 193.351 161.661 193.351C161.006 194.801 160.07 195.901 158.854 196.649C157.684 197.351 156.421 197.702 155.065 197.702C153.615 197.702 152.235 197.164 150.925 196.088C149.662 194.965 148.516 193.655 147.487 192.158C146.457 190.615 145.218 188.556 143.768 185.984C142.037 182.943 140.587 180.698 139.417 179.247C138.295 177.751 137.125 177.002 135.909 177.002C136.47 176.02 137.172 175.248 138.014 174.687C138.856 174.125 139.745 173.845 140.68 173.845C141.569 173.845 142.271 173.938 142.785 174.125C143.3 174.312 143.861 174.593 144.469 174.967C145.031 175.341 145.592 175.646 146.153 175.879C146.761 176.067 147.533 176.16 148.469 176.16C150.013 176.16 151.393 175.622 152.609 174.546C153.872 173.424 154.503 171.786 154.503 169.634C154.503 164.208 152.609 160.138 148.82 157.425H135.207V154.899H164.818V157.425ZM195.233 182.686C194.017 185.773 192.169 188.229 189.69 190.053C187.211 191.878 184.404 192.79 181.27 192.79C178.416 192.79 175.89 192.182 173.692 190.966C171.493 189.749 169.786 188.042 168.569 185.843C167.353 183.645 166.745 181.119 166.745 178.265C166.745 174.897 167.353 171.973 168.569 169.494C169.786 166.968 171.47 165.027 173.621 163.67C175.773 162.314 178.206 161.635 180.919 161.635C184.381 161.635 187.07 162.29 188.988 163.6C190.953 164.863 191.935 166.594 191.935 168.792C191.935 170.336 191.327 171.576 190.111 172.511C188.941 173.447 187.398 173.915 185.48 173.915C185.48 171.108 185.129 168.722 184.427 166.758C183.726 164.746 182.556 163.74 180.919 163.74C179.609 163.74 178.416 164.348 177.34 165.565C176.264 166.781 175.422 168.395 174.814 170.406C174.206 172.371 173.902 174.429 173.902 176.581C173.902 180.464 174.697 183.668 176.288 186.194C177.925 188.673 180.287 189.913 183.375 189.913C185.901 189.913 188.24 188.814 190.392 186.615C192.59 184.417 194.204 181.563 195.233 178.055V157.425H163.166V154.899H209.337V157.425H202.39V197H195.233V182.686ZM228.268 157.425H221.531V197H214.374V157.425H207.638V154.899H228.268V157.425ZM245.917 195.737C249.425 195.737 252.185 195.035 254.197 193.632C256.208 192.182 257.214 190.17 257.214 187.597C257.214 185.913 256.676 184.533 255.6 183.458C254.524 182.382 253.168 181.54 251.53 180.932C249.94 180.323 247.812 179.692 245.145 179.037C242.245 178.289 239.929 177.587 238.199 176.932C236.468 176.23 234.994 175.248 233.778 173.985C232.562 172.722 231.954 171.061 231.954 169.003C231.954 166.524 232.913 164.536 234.83 163.039C236.795 161.542 239.462 160.793 242.83 160.793C245.917 160.793 249.145 161.542 252.513 163.039V157.425H226.551V154.899H265.915V157.425H259.67V165.775L254.197 167.529C252.84 166.079 251.203 164.957 249.285 164.161C247.414 163.319 245.473 162.898 243.461 162.898C242.151 162.898 240.982 163.226 239.953 163.881C238.924 164.536 238.409 165.588 238.409 167.038C238.409 168.301 238.853 169.354 239.742 170.196C240.678 171.038 241.847 171.716 243.251 172.231C244.654 172.698 246.572 173.26 249.004 173.915C252.139 174.757 254.665 175.575 256.583 176.371C258.5 177.119 260.138 178.242 261.494 179.739C262.898 181.236 263.599 183.2 263.599 185.633C263.599 188.252 262.781 190.474 261.143 192.299C259.553 194.123 257.401 195.503 254.688 196.439C252.022 197.374 249.098 197.842 245.917 197.842C242.549 197.842 239.602 197.374 237.076 196.439C234.597 195.503 232.702 194.263 231.392 192.72C230.082 191.176 229.427 189.515 229.427 187.738C229.427 186.101 230.176 184.791 231.673 183.808C233.17 182.779 235.135 182.265 237.567 182.265C237.24 182.686 236.982 183.27 236.795 184.019C236.655 184.767 236.585 185.446 236.585 186.054C236.585 188.861 237.38 191.176 238.97 193C240.608 194.825 242.923 195.737 245.917 195.737ZM246.563 201.72C247.732 201.72 248.738 202.141 249.58 202.983C250.422 203.778 250.843 204.784 250.843 206C250.843 207.216 250.422 208.222 249.58 209.017C248.738 209.859 247.732 210.28 246.563 210.28C245.347 210.28 244.341 209.859 243.546 209.017C242.704 208.222 242.283 207.216 242.283 206C242.283 204.784 242.704 203.778 243.546 202.983C244.341 202.141 245.347 201.72 246.563 201.72ZM284.868 154.899V157.425H278.132V197H270.975V157.425H264.239V154.899H272.869L269.501 153.215C270.998 152.467 272.191 151.344 273.08 149.847C274.015 148.35 274.483 146.806 274.483 145.216C274.483 142.971 273.922 141.263 272.799 140.094C271.723 138.877 270.156 138.269 268.098 138.269C266.461 138.269 264.847 138.854 263.256 140.024C261.619 141.146 260.239 142.971 259.116 145.497C257.947 147.976 257.222 151.11 256.941 154.899L254.275 153.215C254.509 148.397 255.514 144.631 257.292 141.918C259.069 139.158 261.058 137.264 263.256 136.234C265.408 135.205 267.443 134.691 269.361 134.691C273.103 134.691 276.074 135.673 278.272 137.638C280.518 139.556 281.64 142.082 281.64 145.216C281.64 146.947 281.243 148.678 280.447 150.408C279.652 152.092 278.576 153.589 277.22 154.899H284.868Z" fill="white" />
      </Svg>
     
    </View>

  );
};

export default LandingScreen;
